# If not running interactively, do nothing
[[ $- != *i* ]] && return

# zsh
HISTFILE=~/.zsh_history
HISTSIZE=100000
SAVEHIST=$HISTSIZE
setopt APPEND_HISTORY # append rather then overwrite
setopt INC_APPEND_HISTORY # add history immediately after typing a command
setopt INTERACTIVE_COMMENTS # enables interactive comments

# env
export EDITOR=micro
export GCM_CREDENTIAL_STORE=secretservice

# aliases
alias ls='exa -h --group-directories-first'
alias ols='ls --octal-permissions'
alias which='whence -p'

# keybindings
source ~/.zsh_keybindings

# download znap, if it's not yet
[[ -f ~/.znap/src/znap.zsh ]] ||
    git clone --depth 1 -- https://github.com/marlonrichert/zsh-snap.git ~/.znap/src
# set znap repo directory
zstyle ':znap:*' repos-dir ~/.znap/repos

# source znap
source ~/.znap/src/znap.zsh

# znap plugins
znap source asdf-vm/asdf asdf.sh
znap source zsh-users/zsh-autosuggestions
znap source zsh-users/zsh-syntax-highlighting

# znap eval
znap eval asdf-community/asdf-direnv "asdf exec $( asdf which direnv ) hook zsh"
znap eval starship 'starship init zsh --print-full-init'

echo -e "\n$(neofetch)"
# znap prompt
znap prompt
